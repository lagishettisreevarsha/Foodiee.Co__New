<video autoplay muted loop id="bg-video">
  <source src="https://videos.pexels.com/video-files/6603821/6603821-uhd_3840_2160_25fps.mp4" type="video/mp4" />
  Your browser does not support HTML5 video.
</video>

<div class="overlay">
  <nav class="navbar">
    <div class="logo">
      <img src="https://res.cloudinary.com/dhzzlikgi/image/upload/v1751894492/d2568c83e1edc3c7a5b9aaf6b575f7d9-removebg_ndoqth.png" alt="Foodiee Logo" class="logo-img" />
      <span>Foodiee<span>.co</span></span>
    </div>

    <div class="nav-buttons">
      <button (click)="showLogin = true; showSignup = false; isLoginMode = true">Login</button>
      <button (click)="showSignup = true; showLogin = false; isLoginMode = false">Signup</button>
    </div>
  </nav>

  <div *ngIf="!showLogin && !showSignup" class="intro-text">
    <h1>🍳 Welcome to Foodiee.co</h1>
    <p>Discover mouthwatering dishes, cooking secrets, and culinary inspiration.<br />
      Join now to save recipes, share your own, and explore food like never before.</p>
  </div>

  <div class="auth-box" *ngIf="showLogin || showSignup">
    <button class="back-btn-top" (click)="closeForm()">✕</button>
    <h2>{{ isLoginMode ? 'Login' : 'Create Account' }}</h2>

    <!-- Login Form -->
    <form *ngIf="isLoginMode" (ngSubmit)="onSubmit()">
      <input type="email" [(ngModel)]="email" name="email" placeholder="📧 Email" required autocomplete="email" />
      <input type="password" [(ngModel)]="password" name="password" placeholder="🔒 Password" required autocomplete="current-password" />
      <button type="submit">🚀 Login</button>
    </form>

    <!-- Enhanced Compact Signup Form -->
    <form *ngIf="!isLoginMode" (ngSubmit)="onSubmit()" class="signup-form">
      <div class="form-row">
        <input type="text" [(ngModel)]="firstName" name="firstName" placeholder="👤 First Name" required autocomplete="given-name" />
        <input type="text" [(ngModel)]="lastName" name="lastName" placeholder="👤 Last Name" required autocomplete="family-name" />
      </div>
      
      <div class="form-row">
        <input type="email" [(ngModel)]="email" name="email" placeholder="📧 Email" required autocomplete="email" />
        <input type="tel" [(ngModel)]="mobileNumber" name="mobileNumber" placeholder="📱 Mobile" required autocomplete="tel-national" />
      </div>
      
      <div class="form-row">
        <select [(ngModel)]="gender" name="gender" required autocomplete="sex">
          <option value="">🎭 Gender</option>
          <option value="male">👨 Male</option>
          <option value="female">👩 Female</option>
          <option value="other">🌈 Other</option>
          <option value="prefer-not-to-say">🤐 Prefer not to say</option>
        </select>
        
        <input type="date" [(ngModel)]="dateOfBirth" name="dateOfBirth" required autocomplete="bday" />
      </div>
      
      <!-- Profile Picture Upload -->
      <div class="profile-upload-section">
        <label class="file-upload-label">
          <input type="file" 
                 (change)="onFileSelected($event)" 
                 accept="image/*" 
                 class="file-input" autocomplete="photo" />
          <span class="upload-text">📸 Upload Profile Picture</span>
        </label>
        
        <!-- Preview -->
        <div *ngIf="profilePicPreview" class="profile-preview">
          <img [src]="profilePicPreview" alt="Profile Preview" class="preview-img" />
          <span class="preview-text">Preview</span>
        </div>
      </div>
      
      <div class="form-row">
        <input type="password" [(ngModel)]="password" name="password" placeholder="🔒 Password" required autocomplete="new-password" />
        <input type="password" [(ngModel)]="confirmPassword" name="confirmPassword" placeholder="🔒 Confirm" required autocomplete="new-password" />
      </div>
      
      <button type="submit">🚀 Create Account</button>
    </form>

    <p class="toggle">
      {{ isLoginMode ? 'Don\'t have an account?' : 'Already have an account?' }}
      <span (click)="toggleMode()">{{ isLoginMode ? 'Sign up' : 'Login' }}</span>
    </p>

    <p *ngIf="errorMsg" class="error">{{ errorMsg }}</p>
    <p *ngIf="successMsg" class="success">{{ successMsg }}</p>
  </div>
</div>
