<div class="profile-container">
  <div class="profile-card">
    <!-- Profile Picture and Basic Info -->
    <div class="profile-header">
      <div class="profile-picture">
        <img [src]="user?.profilePic || 'https://via.placeholder.com/150/FF6B6B/FFFFFF?text=User'" 
             alt="Profile Picture" 
             class="profile-img" />
      </div>
      <div class="profile-basic-info">
        <h2 class="profile-name">{{ user?.firstName }} {{ user?.lastName }}</h2>
        <p class="profile-email">{{ user?.email }}</p>
        <span class="account-type" [class]="user?.isPremium ? 'premium-badge' : 'standard-badge'">
          {{ user?.isPremium ? 'ğŸŒŸ Premium' : 'ğŸ“± Standard' }}
        </span>
      </div>
    </div>

    <!-- Profile Information -->
    <div class="profile-details">
      <div class="section-header">
        <h3 class="section-title">Personal Information</h3>
        <button class="edit-btn" (click)="toggleEdit()" *ngIf="!isEditing">
          âœï¸ Edit
        </button>
        <div class="edit-actions" *ngIf="isEditing">
          <button class="save-btn" (click)="saveChanges()">ğŸ’¾ Save</button>
          <button class="cancel-btn" (click)="cancelEdit()">âŒ Cancel</button>
        </div>
      </div>
      
      <div class="info-grid" *ngIf="!isEditing">
        <div class="info-item">
          <label>First Name:</label>
          <span>{{ user?.firstName || 'Not provided' }}</span>
        </div>

        <div class="info-item">
          <label>Last Name:</label>
          <span>{{ user?.lastName || 'Not provided' }}</span>
        </div>

        <div class="info-item">
          <label>Mobile:</label>
          <span>{{ user?.mobileNumber || 'Not provided' }}</span>
        </div>

        <div class="info-item">
          <label>Gender:</label>
          <span>{{ user?.gender || 'Not specified' }}</span>
        </div>

        <div class="info-item">
          <label>Date of Birth:</label>
          <span>{{ user?.dateOfBirth ? (user.dateOfBirth | date: 'mediumDate') : 'Not provided' }}</span>
        </div>

        <div class="info-item">
          <label>Joined:</label>
          <span>{{ user?.joined | date: 'fullDate' }}</span>
        </div>
      </div>

      <!-- Edit Form -->
      <form class="edit-form" *ngIf="isEditing" (ngSubmit)="saveChanges()">
        <div class="form-row">
          <div class="form-group">
            <label>First Name:</label>
            <input type="text" [(ngModel)]="editUser.firstName" name="firstName" />
          </div>
          <div class="form-group">
            <label>Last Name:</label>
            <input type="text" [(ngModel)]="editUser.lastName" name="lastName" />
          </div>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label>Mobile:</label>
            <input type="tel" [(ngModel)]="editUser.mobileNumber" name="mobileNumber" />
          </div>
          <div class="form-group">
            <label>Gender:</label>
            <select [(ngModel)]="editUser.gender" name="gender">
              <option value="">Select Gender</option>
              <option value="Male">Male</option>
              <option value="Female">Female</option>
              <option value="Other">Other</option>
            </select>
          </div>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label>Date of Birth:</label>
            <input type="date" [(ngModel)]="editUser.dateOfBirth" name="dateOfBirth" />
          </div>
        </div>
      </form>
    </div>

    <!-- Profile Picture Edit -->
    <div class="profile-picture-section" *ngIf="isEditing">
      <h3 class="section-title">Profile Picture</h3>
      <div class="picture-actions">
        <input type="file" #fileInput (change)="onFileSelected($event)" accept="image/*" style="display: none;" />
        <button class="upload-btn" (click)="fileInput.click()">ğŸ“· Upload New</button>
        <button class="remove-btn" (click)="removeProfilePic()" *ngIf="user?.profilePic">ğŸ—‘ï¸ Remove</button>
      </div>
    </div>

    <!-- Small Logout Button -->
    <div class="logout-section">
      <button class="logout-btn" (click)="logout()">
        <span class="logout-icon">ğŸšª</span>
        Logout
      </button>
    </div>
  </div>
</div>
